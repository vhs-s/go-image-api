# ЖУРНАЛ ИЗМЕНЕНИЙ

Все значимые изменения в этом проекте будут задокументированы в этом файле.

## [1.0.0] - 2025-06-16

### Добавлено
- Базовая реализация API для работы с изображениями.
- Обработчики для загрузки, получения и удаления изображений:
    - `UploadImageHandler`: Обрабатывает HTTP POST запросы для загрузки изображений.
    - `ImagesHandler`: Обрабатывает HTTP GET запросы для получения изображений по ID и HTTP DELETE запросы для удаления изображений по ID.
- Функциональность обработки файлов изображений:
    - `HashName`: Генерирует SHA256 хеш для имен файлов изображений, используя исходное имя и ID в качестве "соли".
    - `NewImage`: Конструктор для структуры `Image`.
    - `CreateUploadedImage`: Декодирует, создает и сохраняет загруженные файлы изображений в директорию "uploads/", конвертируя их в формат JPEG.
    - `CheckRestrictions`: Проверяет размер изображения (макс. 1 МБ) и формат (разрешены только .jpg/.jpeg).
    - `GetFileFormat`: Извлекает расширение файла из имени файла.
    - `GetName`: Извлекает базовое имя файла без расширения.
- Функциональность базы данных метаданных с использованием SQLite:
    - `CreateDB`: Создает файл базы данных SQLite, если он не существует.
    - `CreateTable`: Создает таблицу `images_meta` для хранения метаданных изображений.
    - `CreateMetaRow`: Вставляет метаданные изображения в таблицу `images_meta`.
    - `GetMaxId`: Извлекает максимальный ID из таблицы `images_meta` для обеспечения уникальных ID для новых загрузок.
    - `GetImageWithId`: Извлекает метаданные изображения по ID из базы данных.
    - `DeleteImageWithId`: Удаляет метаданные изображения по ID из базы данных.
- Определение схемы базы данных для таблицы `images_meta`.
- Основная настройка приложения:
    - Инициализирует базу данных и создает необходимую таблицу.
    - Настраивает HTTP-маршруты для `/api/upload` и `/api/images/`.
    - Запускает HTTP-сервер на `localhost:8080`.

### Дополнительно
- Обработка изображений включает ограничения по размеру и формату.
- Хранение изображений хеширует имена файлов для предотвращения конфликтов.
- Структура `App` в пакете `handlers` содержит соединение `*sql.DB` для работы со всем приложением.
